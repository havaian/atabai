@tailwind base;
@tailwind components;
@tailwind utilities;

/* Keyframe animations for mask effects */
@keyframes maskHover {
  from {
    -webkit-mask-position: 0 0;
    mask-position: 0 0;
  }
  to {
    -webkit-mask-position: 100% 0;
    mask-position: 100% 0;
  }
}

@keyframes maskReset {
  from {
    -webkit-mask-position: 100% 0;
    mask-position: 100% 0;
  }
  to {
    -webkit-mask-position: 0 0;
    mask-position: 0 0;
  }
}

/* Base mask animation class - can be applied to any button */
.btn-mask-animate {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  
  /* Apply mask properties */
  -webkit-mask: url("/images/masks/1.png");
  mask: url("/images/masks/1.png");
  -webkit-mask-size: 2300% 100%;
  mask-size: 2300% 100%;
  
  /* Initial animation state */
  -webkit-animation: maskReset 0.7s steps(22) forwards;
  animation: maskReset 0.7s steps(22) forwards;
}

.btn-mask-animate:hover {
  -webkit-animation: maskHover 0.7s steps(22) forwards;
  animation: maskHover 0.7s steps(22) forwards;
}

/* Alternative mask effects for variety */
.btn-mask-urban {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  
  -webkit-mask: url("/images/masks/2.png");
  mask: url("/images/masks/2e.png");
  -webkit-mask-size: 3000% 100%;
  mask-size: 3000% 100%;
  
  -webkit-animation: maskReset 0.7s steps(29) forwards;
  animation: maskReset 0.7s steps(29) forwards;
}

.btn-mask-urban:hover {
  -webkit-animation: maskHover 0.7s steps(29) forwards;
  animation: maskHover 0.7s steps(29) forwards;
}

.btn-mask-nature {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
  
  -webkit-mask: url("/images/masks/3.png");
  mask: url("/images/masks/3.png");
  -webkit-mask-size: 7100% 100%;
  mask-size: 7100% 100%;
  
  -webkit-animation: maskReset 0.7s steps(70) forwards;
  animation: maskReset 0.7s steps(70) forwards;
}

.btn-mask-nature:hover {
  -webkit-animation: maskHover 0.7s steps(70) forwards;
  animation: maskHover 0.7s steps(70) forwards;
}

/* Button styles with innovative hover animations */
@layer components {

    /* Primary button base styles */
    .btn-primary {
        @apply bg-white text-black font-medium px-6 py-3 rounded-lg transition-all duration-300 ease-out relative overflow-hidden;
        @apply focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2;
    }
    
    /* Default hover: Real color transitions (smooth bg/text change) */
    .btn-primary:hover {
        @apply bg-black text-white shadow-2xl;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.3);
    }
    
    /* When mask is applied: Override for mask effect */
    .btn-primary.btn-mask-animate {
        background-color: black;
        color: white;
    }
    
    /* Disable regular hover when mask is active */
    .btn-primary.btn-mask-animate:hover {
        background-color: black;
        color: white;
    }

    /* Secondary button - alternative style */
    .btn-secondary {
        @apply bg-black text-white font-medium px-6 py-3 rounded-lg transition-all duration-500 ease-out relative;
        @apply focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
        transform-style: preserve-3d;
    }

    .btn-secondary::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(45deg, #9500FF, #7c3aed);
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.4s ease-out;
        z-index: -1;
    }

    .btn-secondary:hover::after {
        opacity: 1;
    }

    .btn-secondary:hover {
        box-shadow: 0 8px 25px -8px rgba(149, 0, 255, 0.4);
    }

    /* Rounded button - for special CTAs */
    .btn-rounded {
        @apply bg-black text-white font-medium px-8 py-4 rounded-full transition-all duration-700 ease-out relative;
        @apply focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
        background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
    }

    .btn-rounded::before {
        content: '';
        position: absolute;
        inset: -2px;
        padding: 2px;
        background: linear-gradient(45deg, #9500FF, #7c3aed, #9500FF);
        border-radius: inherit;
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: xor;
        opacity: 0;
        transition: opacity 0.5s ease-out;
    }

    .btn-rounded:hover::before {
        opacity: 1;
        animation: borderRotate 2s linear infinite;
    }

    .btn-rounded:hover {
        box-shadow: 0 35px 70px -20px rgba(149, 0, 255, 0.6);
    }

    /* Circle button - for the final CTA */
    .btn-circle {
        @apply bg-white text-black font-medium rounded-full transition-all duration-700 ease-out relative;
        @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
        transform-style: preserve-3d;
    }

    .btn-circle::before {
        content: '';
        position: absolute;
        inset: -4px;
        background: conic-gradient(from 0deg, #9500FF, #7c3aed, #5b21b6, #9500FF);
        border-radius: inherit;
        padding: 4px;
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: xor;
        opacity: 0;
        transition: opacity 0.6s ease-out;
    }

    .btn-circle:hover::before {
        opacity: 1;
        animation: spinGlow 3s linear infinite;
    }

    .btn-circle:hover {
        box-shadow:
            0 50px 100px -25px rgba(149, 0, 255, 0.5),
            inset 0 0 30px rgba(149, 0, 255, 0.1);
    }

    /* Ghost button base styles */
    .btn-ghost {
        @apply bg-gray-100 text-gray-700 font-medium px-6 py-3 rounded-lg transition-all duration-300 ease-out relative overflow-hidden;
        @apply focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2;
    }
    
    /* Default hover: Real color transitions */
    .btn-ghost:hover {
        @apply bg-gray-200 text-gray-900;
        box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.15);
    }
    
    /* When mask 3 (nature) is applied: Override for mask effect */
    .btn-ghost.btn-mask-nature {
        background-color: #374151; /* gray-700 */
        color: white;
    }
    
    /* Disable regular hover when mask is active */
    .btn-ghost.btn-mask-nature:hover {
        background-color: #374151;
        color: white;
        box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.15);
    }

    /* Auth button - Google style */
    .btn-auth {
        @apply bg-white text-gray-700 font-medium px-4 py-2 rounded-md transition-all duration-300 ease-out relative border border-gray-300;
        @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
    }

    .btn-auth:hover {
        @apply border-violet-700;
    }
}

/* Custom gradient with toxic violet */
@layer utilities {
    .bg-gradient-hero {
        background: linear-gradient(to top, #9500FF 0%, #7c3aed 25%, #5b21b6 50%, #1a1a1a 75%, #000000 100%);
    }

    .bg-gradient-hero-alt {
        background: linear-gradient(to bottom, #9500FF, #000000);
    }
}

/* Keyframe animations */
@keyframes borderRotate {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

@keyframes spinGlow {
    0% {
        transform: rotate(0deg) scale(1);
    }

    50% {
        transform: rotate(180deg) scale(1.05);
    }

    100% {
        transform: rotate(360deg) scale(1);
    }
}

@keyframes morphShadow {

    0%,
    100% {
        border-radius: 50%;
        box-shadow: 0 20px 40px rgba(149, 0, 255, 0.3);
    }

    25% {
        border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
        box-shadow: 0 25px 50px rgba(149, 0, 255, 0.4);
    }

    50% {
        border-radius: 70% 30% 30% 70% / 70% 70% 30% 30%;
        box-shadow: 0 30px 60px rgba(149, 0, 255, 0.5);
    }

    75% {
        border-radius: 40% 60% 40% 60% / 60% 40% 60% 40%;
        box-shadow: 0 25px 50px rgba(149, 0, 255, 0.4);
    }
}

/* Enhanced button hover effects for all buttons */
button {
    @apply transition-all duration-300 ease-out;
    transform-style: preserve-3d;
}

button:active {
    transition-duration: 0.1s;
}

/* Specific enhancements for different button patterns */
button.bg-black:hover {
    box-shadow: 0 35px 70px -20px rgba(0, 0, 0, 0.4);
}

button.bg-primary:hover {
    box-shadow: 0 30px 60px -15px rgba(139, 92, 246, 0.5);
}

button.bg-white:hover {
    box-shadow: 0 40px 80px -25px rgba(149, 0, 255, 0.3);
}

button.bg-gray-100:hover {
    box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.12);
}

/* Special effects for rounded buttons */
button.rounded-full {
    @apply transition-all duration-700 ease-out;
}

button.rounded-full:hover {
    animation: morphShadow 4s ease-in-out infinite;
}

/* Pulse animation for important CTAs */
@keyframes pulseGlow {

    0%,
    100% {
        box-shadow:
            0 0 0 0 rgba(149, 0, 255, 0.7),
            0 20px 40px -10px rgba(149, 0, 255, 0.3);
    }

    50% {
        box-shadow:
            0 0 30px 15px rgba(149, 0, 255, 0.1),
            0 25px 50px -12px rgba(149, 0, 255, 0.5);
    }
}

.pulse-glow {
    animation: pulseGlow 3s ease-in-out infinite;
}

/* Hover glow effect */
.hover-glow {
    @apply transition-all duration-500;
}

.hover-glow:hover {
    box-shadow:
        0 0 50px rgba(149, 0, 255, 0.4),
        0 30px 60px -15px rgba(149, 0, 255, 0.3);
    filter: brightness(1.1);
}

/* Micro interactions for buttons */
.btn-micro {
    @apply transform transition-all duration-300 ease-out;
}